/**
 * pacem v0.9.0-byblos (https://js.pacem.it)
 * Copyright 2020 Pacem (https://pacem.it)
 * Licensed under MIT
 */
var Pacem;!function(t){const a=/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/,e=/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,[\d\.]+\)$/,s=/^#[a-f0-9]{6}$/,r=/^#[a-f0-9]{3}$/;t.Colors=class Colors{static _clampRGB(t){const a=t=>Math.min(1,Math.max(0,t));return null==t[3]&&(t[3]=1),{r:a(t[0]),g:a(t[1]),b:a(t[2]),a:Math.min(1,Math.max(0,t[3]))}}static _normalize(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}static parse(t){if(t=(t||"").toLowerCase(),a.test(t)){let e=a.exec(t);return this._clampRGB(this._normalize([parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),1]))}if(e.test(t)){let a=e.exec(t);return this._clampRGB(this._normalize([parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseFloat(a[4])]))}if(s.test(t)){let a=s.exec(t)[0];return this._clampRGB(this._normalize([parseInt("0x"+a.substr(1,2)),parseInt("0x"+a.substr(3,2)),parseInt("0x"+a.substr(5,2)),1]))}if(r.test(t)){let a=r.exec(t)[0],e=a.substr(1,1),s=a.substr(2,1),n=a.substr(3,1);return this._clampRGB(this._normalize([parseInt("0x"+e+e),parseInt("0x"+s+s),parseInt("0x"+n+n),1]))}}static hue(t){const a=t.r,e=t.g,s=t.b;return Math.round(180*Math.atan2(Math.sqrt(3)*(e-s),2*a-e-s)/Math.PI)}static luminance(t){const a=t.r,e=t.g,s=t.b;return.5*(Math.max(a,e,s)+Math.min(a,e,s))}static saturation(t){const a=this.luminance(t),e=t.r,s=t.g,r=t.b,n=Math.max(e,s,r),c=Math.min(e,s,r);return 0===a||1===a?0:(n-c)/(1-Math.abs(2*a-1))}static hsl(t){return{h:this.hue(t),s:this.saturation(t),l:this.luminance(t),a:t.a}}static rgb(t){const a=t.h,e=t.s,s=t.l,r=a/60,n=(1-Math.abs(2*s-1))*e,c=n*(1-Math.abs(r%2-1)),i=s-n/2,o=(a,e,s)=>this._clampRGB([a+i,e+i,s+i,t.a]);return r<=1?o(n,c,0):r<=2?o(c,n,0):r<=3?o(0,n,c):r<=4?o(0,c,n):r<=5?o(c,0,n):r<=6?o(n,0,c):void 0}}}(Pacem||(Pacem={})),function(t){const a=180/Math.PI,e=2*Math.PI,s=/[-+]?[\d]+(\.[\d]+(e-[\d]+)?)?/g;class Geom{static parseRect(t){let a=t.match(s);if(a&&4===a.length)return{x:parseFloat(a[0]),y:parseFloat(a[1]),width:parseFloat(a[2]),height:parseFloat(a[3])};throw new Error(`Cannot parse "${t}" as a valid Rect.`)}static parsePoint(t){let a=t.match(s);if(a&&2===a.length)return{x:parseFloat(a[0]),y:parseFloat(a[1])};throw new Error(`Cannot parse "${t}" as a valid Point.`)}static distance(t,a){return Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2))}static subtract(t,a){return{x:a.x-t.x,y:a.y-t.y}}static add(...t){var a={x:0,y:0};for(var e of t)a.x+=e.x,a.y+=e.y;return a}static slopeRad(t,a){return Math.atan2(a.y-t.y,a.x-t.x)}static slopeRad2(t,a){return(e+Geom.slopeRad(t,a))%e}static slopeDeg(t,e){return Geom.slopeRad(t,e)*a}static slopeDeg2(t,a){return(360+Geom.slopeDeg(t,a))%360}}t.Geom=Geom}(Pacem||(Pacem={})),function(t){t.Matrix2D=class Matrix2D{static isIdentity(t){return 1===t.a&&1===t.d&&0===t.b&&0===t.f&&0===t.c&&0===t.e}static get identity(){return{a:1,b:0,c:0,d:1,e:0,f:0}}static copy(t){return{a:t.a,b:t.b,c:t.c,d:t.d,e:t.e,f:t.f}}static scale(t,a,e=a){return{a:t.a*a,b:t.b,c:t.c,d:t.d*e,e:t.e,f:t.f}}static translate(t,a){return{a:t.a,b:t.b,c:t.c,d:t.d,e:t.e+a.x,f:t.f+a.y}}static multiply(t,a){return"x"in t&&"y"in t?"number"==typeof a?{x:t.x*a,y:t.y*a}:{x:t.x*a.a+t.y*a.c+a.e,y:t.x*a.b+t.y*a.d+a.f}:"number"==typeof a?{a:t.a*a,b:t.b*a,c:t.c*a,d:t.d*a,e:t.e*a,f:t.f*a}:{a:t.a*a.a+t.b*a.c,b:t.a*a.b+t.b*a.d,c:t.c*a.a+t.d*a.c,d:t.c*a.b+t.d*a.d,e:t.e*a.a+t.f*a.c+a.e,f:t.e*a.b+t.f*a.d+a.f}}static det(t){return t.a*t.d-t.c*t.b}static invert(t){const a=this.det(t);if(0===a)return null;const e=1/a;return this.multiply({a:t.d,b:-t.c,c:-t.b,d:t.a,e:-t.e*t.d+t.c*t.f,f:-t.e*t.b+t.a*t.f},e)}}}(Pacem||(Pacem={}));